# ๐ก๏ธ ุฏููู ุงููุณุฎ ุงูุงุญุชูุงุทู ูููุงุท ุงูุชุฑุงุฌุน
## ClassFlow AI - Backup & Rollback System

---

##  ุชู ุชูููุฐ ูุธุงู ุงูุญูุงูุฉ ุงููุงูู

### ๐ฆ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงููุงููุฉ

**ุงูููู**: `ClassFlow_Complete_Backup_20260110_193014.tar.gz`  
**ุงููููุน**: ุณุทุญ ุงูููุชุจ (Desktop)  
**ุงูุญุฌู**: 663 KB  
**ุงูุชุงุฑูุฎ**: 2026-01-10

**ุงููุญุชููุงุช**:
-  ุฌููุน ูููุงุช ุงูููุฏ ุงููุตุฏุฑู (TypeScript, TSX, CSS)
-  ูููุงุช ุงูุฅุนุฏุงุฏุงุช (package.json, tsconfig.json, vite.config.ts)
-  ุฌููุน ุงูููููุงุช (Components)
-  ุฌููุน ุงูุฃุฏูุงุช (Utils)
-  ุฌููุน ุงูุฃููุงุน (Types)
-  ุงูุณูุงูุงุช (Contexts) ู Hooks
- โ๏ธ **ูุณุชุซูู**: node_modules, .git, ูููุงุช ุงูุณุฌูุงุช

---

## ๐ง ุงูููุฒุงุช ุงููุถุงูุฉ

### 1๏ธโฃ ูุธุงู ููุงุท ุงูุชุฑุงุฌุน (Rollback System)

**ุงูููู**: `utils/rollbackSystem.ts`

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
-  ุฅูุดุงุก ููุงุท ุชุฑุงุฌุน ูุฏููุฉ
-  ุญูุธ ุชููุงุฆู ูู 30 ุฏูููุฉ
-  ุงุณุชุนุงุฏุฉ ููุฑูุฉ ูู ุฃู ููุทุฉ
-  ุชุตุฏูุฑ/ุงุณุชูุฑุงุฏ ููุงุท ุงูุชุฑุงุฌุน
-  ุฅุฏุงุฑุฉ ูุณุงุญุฉ ุงูุชุฎุฒูู (max 10 ููุงุท)

**ุงูุจูุงูุงุช ุงููุญููุธุฉ ูู ูู ููุทุฉ**:
```typescript
{
  engineContext,      // ุฅุนุฏุงุฏุงุช ุงููุญุฑู ูุงูุฃููุงุท
  employees,          // ุงููุนูููู
  lessons,            // ุงูุญุตุต
  classes,            // ุงูุตููู
  scheduleConfig,     // ุฅุนุฏุงุฏุงุช ุงูุฌุฏูู
  absences,           // ุงูุบูุงุจุงุช
  substitutionLogs    // ุณุฌู ุงูุจุฏูุงุก
}
```

---

### 2๏ธโฃ ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุงูู (Full Backup)

**ุงูููู**: `utils/fullBackup.ts`

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ**:
-  ูุณุฎ ุงุญุชูุงุทู ุดุงูู ููุงูู ุงููุธุงู
-  ุชุญููู ุงููุณุฎุฉ ูุจู ุงูุงุณุชุนุงุฏุฉ
-  ููุงุฑูุฉ ุจูู ูุณุฎุชูู
-  ุงูุชุญูู ูู ุงูุณูุงูุฉ (Checksums)
-  ุฏุนู ุงูุงุณุชุนุงุฏุฉ ุงูุฌุฒุฆูุฉ

**ุงูุจูุงูุงุช ุงููุงููุฉ ุงููุญููุธุฉ**:
```typescript
{
  core: {             // ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
    employees, classes, lessons, 
    scheduleConfig, roles
  },
  operations: {       // ุงูุนูููุงุช
    absences, substitutionLogs, 
    engineContext
  },
  calendar: {         // ุงูุชูููู
    academicYear, dayPatterns, 
    holidays, overrides, events, 
    tasks, comments
  },
  localStorage: {     // ุงูุชุฎุฒูู ุงููุญูู
    keys, data
  }
}
```

---

### 3๏ธโฃ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ููุงุท ุงูุชุฑุงุฌุน

**ุงููููู**: `components/RollbackManager.tsx`

**ุงูููุฒุงุช**:
- ๐ ุนุฑุถ ุฌููุน ููุงุท ุงูุชุฑุงุฌุน ูุน ุงูุชูุงุตูู
- โฑ๏ธ ุชูููุช ุงูุฅูุดุงุก (ููุฐ ูู ุฏูููุฉ/ุณุงุนุฉ/ููู)
- ๐พ ุญุฌู ูู ููุทุฉ
- ๐ค ูู ุฃูุดุฃูุง (System/User)
- ๐ ุญูุธ ุชููุงุฆู ูุงุจู ููุชูุนูู/ุงูุชุนุทูู
- ๐ฅ ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ ุงูููุงุท
- ๐๏ธ ุญุฐู ููุทุฉ ุฃู ูุณุญ ุงููู

---

## ๐ฎ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ

1. **ูู ูุงุฌูุฉ ุงูุชุทุจูู** (Admin ููุท):
   ```
   Header โ ุฒุฑ "ูุณุฎุฉ ุงุญุชูุงุทูุฉ" ๐ฅ
   โ ูุชู ุชูุฒูู ููู JSON ุชููุงุฆูุงู
   ```

2. **ุงุณู ุงูููู**:
   ```
   ClassFlow_Backup_2026-01-10_123456.json
   ```

---

### ุฅูุดุงุก ููุทุฉ ุชุฑุงุฌุน

1. **ูู ูุงุฌูุฉ ุงูุชุทุจูู**:
   ```
   Header โ ุฒุฑ "ููุงุท ุงูุชุฑุงุฌุน" ๐ก๏ธ
   โ "ุฅูุดุงุก ููุทุฉ ุชุฑุงุฌุน"
   โ ุฃุฏุฎู ุงูุงุณู ูุงููุตู
   โ ุญูุธ
   ```

2. **ุชููุงุฆูุงู** (ุฅุฐุง ููุนูู):
   ```
   ูู 30 ุฏูููุฉ โ ููุทุฉ ุชุฑุงุฌุน ุชููุงุฆูุฉ
   ```

---

### ุงูุงุณุชุนุงุฏุฉ ูู ููุทุฉ ุชุฑุงุฌุน

1. **ุงูุทุฑููุฉ ุงูุขููุฉ** (ููุตู ุจูุง):
   ```
   Header โ "ููุงุท ุงูุชุฑุงุฌุน"
   โ ุงุฎุชุฑ ุงูููุทุฉ
   โ "ุงุณุชุนุงุฏุฉ"
   โ ุชุฃููุฏ
   ```

2. **ูุง ูุญุฏุซ**:
   -  ูุชู ุงุณุชุจุฏุงู ุฌููุน ุงูุจูุงูุงุช ุงูุญุงููุฉ
   -  ุชุจูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุฃุฎุฑู ุณูููุฉ
   - โ๏ธ ุงูุชุบููุฑุงุช ุจุนุฏ ุงูููุทุฉ ุชูููุฏ

---

### ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ

**โ๏ธ ุชุญุฐูุฑ**: ูุฐุง ูุณุชุจุฏู ูู ุดูุก!

1. **ูู ุงูููู ุงููุญููุธ**:
   ```
   Settings โ Import โ ุงุฎุชุฑ ููู .json
   โ ุชุฃููุฏ ุงูุงุณุชุนุงุฏุฉ
   ```

2. **ูู ุฃุฑุดูู ุงูุฌูุงุฒ**:
   ```bash
   # ูู ุถุบุท ุงูุฃุฑุดูู ุงููุงูู
   cd ~/Desktop
   tar -xzf ClassFlow_Complete_Backup_20260110_193014.tar.gz -C restored_project/
   
   # ุฅุนุงุฏุฉ ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช
   cd restored_project
   npm install
   
   # ุชุดุบูู ุงููุดุฑูุน
   npm run dev
   ```

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ูุจู ุชุนุฏูู ุญุณุงุณ
```
1. ุฅูุดุงุก ููุทุฉ ุชุฑุงุฌุน ูุฏููุฉ
2. ุชูููุฐ ุงูุชุนุฏูู
3. ุฅุฐุง ุญุฏุซ ุฎุทุฃ โ ุงุณุชุนุงุฏุฉ ููุฑูุฉ
```

### ุงูุณููุงุฑูู 2: ููุงูุฉ ุงูููู
```
1. ุชุตุฏูุฑ ููุทุฉ ุงูุชุฑุงุฌุน ุงูููุงุฆูุฉ
2. ุญูุธูุง ูู ููุงู ุขูู (Google Drive, USB)
```

### ุงูุณููุงุฑูู 3: ุชุฌุฑุจุฉ ุฅุนุฏุงุฏุงุช ุฌุฏูุฏุฉ
```
1. ููุทุฉ ุชุฑุงุฌุน ูุจู ุงูุชุฌุฑุจุฉ
2. ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงููุญุฑู
3. ุงุฎุชุจุงุฑ
4. ุฅุฐุง ูู ุชูุฌุญ โ ุงุณุชุนุงุฏุฉ
```

### ุงูุณููุงุฑูู 4: ููู ุฅูู ูุฏุฑุณุฉ ุฃุฎุฑู
```
1. ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ
2. ููู ุงูููู ููุฌูุงุฒ ุงูุฌุฏูุฏ
3. ุงุณุชูุฑุงุฏ ูู ุงูุชุทุจูู ุงูุฌุฏูุฏ
```

---

## ๐ ูุฑุงูุจุฉ ุงููุณุงุญุฉ

**ูู RollbackManager**:
- ุดุฑูุท ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู (ุฃุฎุถุฑ/ุนูุจุฑ/ุฃุญูุฑ)
- ุญุฌู ูู ููุทุฉ ุจุงูู KB/MB
- ุฅุฌูุงูู ุงููุณุงุญุฉ ุงููุณุชุฎุฏูุฉ

**ุญุฏ ุงูุชุฎุฒูู**:
- LocalStorage: ~10 MB
- ุนุฏุฏ ุงูููุงุท: 10 ูุญุฏ ุฃูุตู (ูุงุจู ููุชุนุฏูู)
- ุงูููุงุท ุงูุฃูุฏู ุชูุญุฐู ุชููุงุฆูุงู

---

## โ๏ธ ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ

### ุชุบููุฑ ูุชุฑุฉ ุงูุญูุธ ุงูุชููุงุฆู

**ูู ุงูููุฏ** (`utils/rollbackSystem.ts`):
```typescript
enableAutoSave(getSnapshot, 60); // ูู 60 ุฏูููุฉ ุจุฏูุงู ูู 30
```

### ุชุบููุฑ ุงูุญุฏ ุงูุฃูุตู ููููุงุท

**ูู ุงูููุฏ**:
```typescript
updateRollbackConfig({ maxPoints: 20 }); // 20 ููุทุฉ ุจุฏูุงู ูู 10
```

---

## ๐จ ุชุญุฐูุฑุงุช ูุงูุฉ

### โ ูุง ุชูุนู:
- ุญุฐู ุฌููุน ููุงุท ุงูุชุฑุงุฌุน ูุจู ุชุฃูุฏ ูู ุณูุงูุฉ ุงููุธุงู
- ุงูุงุนุชูุงุฏ ุนูู LocalStorage ููุท (ุงุณุชุฎุฏู ุงูุชุตุฏูุฑ!)
- ุฅููุงู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุฃุณุจูุนูุฉ

###  ุงูุนู:
- ุตุฏูุฑ ููุทุฉ ุชุฑุงุฌุน ููููุงู (ููุงูุฉ ุงูุนูู)
- ุงุญูุธ ุงููุณุฎ ูู ููุงู ุฎุงุฑุฌู (Cloud/USB)
- ุงุฎุชุจุฑ ุงูุงุณุชุนุงุฏุฉ ูุฑุฉ ุดูุฑูุงู
- ูุซูู ุงูุชุบููุฑุงุช ุงููุจูุฑุฉ ูู ูุตู ุงูููุทุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุดู ุญูุธ ููุทุฉ ุงูุชุฑุงุฌุน"
**ุงูุญู**:
1. ุงูุญุต ูุณุงุญุฉ ุงูุชุฎุฒูู
2. ุงุญุฐู ููุงุท ูุฏููุฉ
3. ุตุฏูุฑ ุงูููุงุท ุงููููุฉ ูุจู ุงูุญุฐู

### ุงููุดููุฉ: "ูุง ูููู ุงุณุชุนุงุฏุฉ ุงูููุทุฉ"
**ุงูุญู**:
1. ุชุญูู ูู ุตุญุฉ ุงูููู (Checksum)
2. ุฌุฑูุจ ููุทุฉ ุฃุฎุฑู
3. ุงุณุชุฎุฏู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงููุงููุฉ

### ุงููุดููุฉ: "ุงูุญูุธ ุงูุชููุงุฆู ูุง ูุนูู"
**ุงูุญู**:
1. ุชุญูู ูู ุชูุนููู ูู ุงููุงุฌูุฉ
2. ุงูุญุต console ููุฃุฎุทุงุก
3. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

---

## ๐ ุณุฌู ุงูุชุบููุฑุงุช

### ูุณุฎุฉ 2.0.0 (2026-01-10)
-  ุฅุถุงูุฉ ูุธุงู ููุงุท ุงูุชุฑุงุฌุน ุงููุงูู
-  ุฅุถุงูุฉ ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุดุงูู
-  ูุงุฌูุฉ ุฅุฏุงุฑุฉ ููุงุท ุงูุชุฑุงุฌุน
-  ุญูุธ ุชููุงุฆู ูุงุจู ููุชูุนูู
-  ุชุตุฏูุฑ/ุงุณุชูุฑุงุฏ ุงูููุงุท
-  ุงูุชุญูู ูู ุงูุณูุงูุฉ (Checksums)
-  ููุงุฑูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุงูุญุต Console ููุฃุฎุทุงุก
2. ุชุญูู ูู `BACKUP_AND_ROLLBACK_GUIDE.md`
3. ุฌุฑูุจ ุงุณุชุนุงุฏุฉ ูู ููุทุฉ ุณุงุจูุฉ
4. ุงุณุชุฎุฏู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงููุงููุฉ ูุญู ุฃุฎูุฑ

---

## โจ ุงูุฎูุงุตุฉ

### ุชู ุฅูุดุงุก:
1.  `utils/rollbackSystem.ts` - ูุธุงู ููุงุท ุงูุชุฑุงุฌุน
2.  `utils/fullBackup.ts` - ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุงูู
3.  `components/RollbackManager.tsx` - ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ
4.  Integration ูู `App.tsx` - ุงูุฑุจุท ุงููุงูู
5.  `ClassFlow_Complete_Backup_*.tar.gz` - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ุนูู ุงูุฌูุงุฒ

### ุงูุขู ูุฏูู:
- ๐ก๏ธ ุญูุงูุฉ ูุงููุฉ ูู ููุฏุงู ุงูุจูุงูุงุช
- โฎ๏ธ ุฅููุงููุฉ ุงูุชุฑุงุฌุน ุงูููุฑู
- ๐ฆ ูุณุฎ ุงุญุชูุงุทูุฉ ุดุงููุฉ
- ๐ ุญูุธ ุชููุงุฆู ุฐูู
- ๐ ูุฑุงูุจุฉ ุงููุณุงุญุฉ ูุงูุฃุฏุงุก

**ุงููุธุงู ุฌุงูุฒ ููุนูู ูุงูุชุทููุฑ ุจุฃูุงู ูุงูู!** ๐
